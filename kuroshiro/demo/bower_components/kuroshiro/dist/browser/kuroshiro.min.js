!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.kuroshiro=t()}}(function(){var t;return function n(t,r,e){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(n){var r=t[a][1][n];return i(r?r:n)},f,f.exports,n,t,r,e)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(t,n,r){(function(t){function n(t,n){for(var r=0,e=t.length-1;e>=0;e--){var i=t[e];"."===i?t.splice(e,1):".."===i?(t.splice(e,1),r++):r&&(t.splice(e,1),r--)}if(n)for(;r--;r)t.unshift("..");return t}function e(t,n){if(t.filter)return t.filter(n);for(var r=[],e=0;e<t.length;e++)n(t[e],e,t)&&r.push(t[e]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return r=n(e(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===a(t,-1);return t=n(e(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(e(t,function(t,n){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,n){function e(t){for(var n=0;n<t.length&&""===t[n];n++);for(var r=t.length-1;r>=0&&""===t[r];r--);return n>r?[]:t.slice(n,r-n+1)}t=r.resolve(t).substr(1),n=r.resolve(n).substr(1);for(var i=e(t.split("/")),o=e(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;a>u;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var n=o(t),r=n[0],e=n[1];return r||e?(e&&(e=e.substr(0,e.length-1)),r+e):"."},r.basename=function(t,n){var r=o(t)[2];return n&&r.substr(-1*n.length)===n&&(r=r.substr(0,r.length-n.length)),r},r.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,n,r){return t.substr(n,r)}:function(t,n,r){return 0>n&&(n=t.length+n),t.substr(n,r)}}).call(this,t("_process"))},{_process:2}],2:[function(t,n,r){function e(){f=!1,s.length?c=s.concat(c):h=-1,c.length&&i()}function i(){if(!f){var t=setTimeout(e);f=!0;for(var n=c.length;n;){for(s=c,c=[];++h<n;)s&&s[h].run();h=-1,n=c.length}s=null,f=!1,clearTimeout(t)}}function o(t,n){this.fun=t,this.array=n}function a(){}var s,u=n.exports={},c=[],f=!1,h=-1;u.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];c.push(new o(t,n)),1!==c.length||f||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],3:[function(t,n,r){"use strict";function e(t){this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary,this.viterbi_builder=new i(t),this.viterbi_searcher=new o(t.connection_costs),this.formatter=new a}var i=t("./viterbi/ViterbiBuilder.js"),o=t("./viterbi/ViterbiSearcher.js"),a=t("./util/IpadicFormatter.js"),s=/、|。/;e.splitByPunctuation=function(t){for(var n=[],r=t;;){if(""===r)break;var e=r.search(s);if(0>e){n.push(r);break}n.push(r.substring(0,e+1)),r=r.substring(e+1)}return n},e.prototype.tokenize=function(t){for(var n=e.splitByPunctuation(t),r=[],i=0;i<n.length;i++){var o=n[i];this.tokenizeForSentence(o,r)}return r},e.prototype.tokenizeForSentence=function(t,n){null==n&&(n=[]);for(var r=this.getLattice(t),e=this.viterbi_searcher.search(r),i=0;i<e.length;i++){var o,a,s,u=e[i];"KNOWN"===u.type?(s=this.token_info_dictionary.getFeatures(u.name),a=null==s?[]:s.split(","),o=this.formatter.formatEntry(u.name,u.start_pos,u.type,a)):"UNKNOWN"===u.type?(s=this.unknown_dictionary.getFeatures(u.name),a=null==s?[]:s.split(","),o=this.formatter.formatUnknownEntry(u.name,u.start_pos,u.type,a,u.surface_form)):o=this.formatter.formatEntry(u.name,u.start_pos,u.type,[]),n.push(o)}return n},e.prototype.getLattice=function(t){return this.viterbi_builder.build(t)},n.exports=e},{"./util/IpadicFormatter.js":17,"./viterbi/ViterbiBuilder.js":19,"./viterbi/ViterbiSearcher.js":22}],4:[function(t,n,r){"use strict";function e(t){null!=t.dicPath?this.dic_path=t.dicPath:this.dic_path="dict/"}var i=t("./Tokenizer.js"),o=t("./loader/NodeDictionaryLoader.js");e.prototype.build=function(t){var n=new o(this.dic_path);n.load(function(n,r){t(n,new i(r))})},n.exports=e},{"./Tokenizer.js":3,"./loader/NodeDictionaryLoader.js":13}],5:[function(t,n,r){"use strict";function e(t,n,r,e,i){this.class_id=t,this.class_name=n,this.is_always_invoke=r,this.is_grouping=e,this.max_length=i}n.exports=e},{}],6:[function(t,n,r){"use strict";function e(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}var i=t("./InvokeDefinitionMap.js"),o=t("./CharacterClass.js"),a=t("../util/SurrogateAwareString.js"),s="DEFAULT",u=/\r|\n|\r\n/,c=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,f=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,h=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;e.load=function(t,n,r){var o=new e;return o.character_category_map=t,o.compatible_category_map=n,o.invoke_definition_map=i.load(r),o},e.readCharacterDefinition=function(t){for(var n,r=t.split(u),o=[],a=[],s=0;s<r.length;s++)if(n=r[s],null!=n){var l=c.exec(n);if(null==l){var p=f.exec(n);if(null!=p){var y=e.parseCategoryMapping(p);a.push(y)}var d=h.exec(n);if(null!=d){var g=e.parseRangeCategoryMapping(d);a.push(g)}}else{var v=o.length,m=e.parseCharCategory(v,l);if(null==m)continue;o.push(m)}}var _=new e;return _.invoke_definition_map=new i,_.invoke_definition_map.init(o),_.initCategoryMappings(a),_},e.parseCharCategory=function(t,n){var r=n[1],e=parseInt(n[2]),i=parseInt(n[3]),a=parseInt(n[4]);if(!isFinite(e)||0!==e&&1!==e)return console.log("char.def parse error. INVOKE is 0 or 1 in:"+e),null;if(!isFinite(i)||0!==i&&1!==i)return console.log("char.def parse error. GROUP is 0 or 1 in:"+i),null;if(!isFinite(a)||0>a)return console.log("char.def parse error. LENGTH is 1 to n:"+a),null;var s=1===e,u=1===i;return new o(t,r,s,u,a)},e.parseCategoryMapping=function(t){var n=parseInt(t[1]),r=t[2],e=3<t.length?t.slice(3):[];return(!isFinite(n)||0>n||n>65535)&&console.log("char.def parse error. CODE is invalid:"+n),{start:n,"default":r,compatible:e}},e.parseRangeCategoryMapping=function(t){var n=parseInt(t[1]),r=parseInt(t[2]),e=t[3],i=4<t.length?t.slice(4):[];return(!isFinite(n)||0>n||n>65535)&&console.log("char.def parse error. CODE is invalid:"+n),(!isFinite(r)||0>r||r>65535)&&console.log("char.def parse error. CODE is invalid:"+r),{start:n,end:r,"default":e,compatible:i}},e.prototype.initCategoryMappings=function(t){var n;if(null!=t)for(var r=0;r<t.length;r++){var e=t[r],i=e.end||e.start;for(n=e.start;i>=n;n++){this.character_category_map[n]=this.invoke_definition_map.lookup(e["default"]);for(var o=0;o<e.compatible.length;o++){var a=this.compatible_category_map[n],u=e.compatible[o];if(null!=u){var c=this.invoke_definition_map.lookup(u);if(null!=c){var f=1<<c;a|=f,this.compatible_category_map[n]=a}}}}}var h=this.invoke_definition_map.lookup(s);if(null!=h)for(n=0;n<this.character_category_map.length;n++)0===this.character_category_map[n]&&(this.character_category_map[n]=1<<h)},e.prototype.lookupCompatibleCategory=function(t){var n,r=[],e=t.charCodeAt(0);if(e<this.compatible_category_map.length&&(n=this.compatible_category_map[e]),null==n||0===n)return r;for(var i=0;32>i;i++)if(n<<31-i>>>31===1){var o=this.invoke_definition_map.getCharacterClass(i);if(null==o)continue;r.push(o)}return r},e.prototype.lookup=function(t){var n,r=t.charCodeAt(0);return a.isSurrogatePair(t)?n=this.invoke_definition_map.lookup(s):r<this.character_category_map.length&&(n=this.character_category_map[r]),null==n&&(n=this.invoke_definition_map.lookup(s)),this.invoke_definition_map.getCharacterClass(n)},n.exports=e},{"../util/SurrogateAwareString.js":18,"./CharacterClass.js":5,"./InvokeDefinitionMap.js":9}],7:[function(t,n,r){"use strict";function e(t){this.dimension=0,this.buffer=new Int16Array(t)}e.prototype.put=function(t,n,r){isFinite(t)||console.log(t+" "+n+" "+r);var e=t*this.dimension+n;if(this.buffer.length<e+1)throw"ConnectionCosts buffer overflow";this.buffer[e]=r},e.prototype.get=function(t,n){var r=t*this.dimension+n;if(this.buffer.length<r+1)throw"ConnectionCosts buffer overflow";return this.buffer[r]},e.prototype.loadConnectionCosts=function(t){this.dimension=1316,this.buffer=t},e.build=function(t){var n=t.split(/\n/).map(function(t){return t.split(" ")}),r=n[0][1],i=new e(r*r);i.dimension=r;for(var o=1;o<n.length;o++)if(!(n[o].length<3)){var a=parseInt(n[o][0]),s=parseInt(n[o][1]),u=parseInt(n[o][2]);(0>a||0>s)&&console.log("Error in:"+n[o]),i.put(a,s,u)}return i},n.exports=e},{}],8:[function(t,n,r){"use strict";function e(t,n,r,e){null!=t?this.trie=t:this.trie=i.builder(0).build([{k:"",v:1}]),null!=n?this.token_info_dictionary=n:this.token_info_dictionary=new o,null!=r?this.connection_costs=r:this.connection_costs=new a(0),null!=e?this.unknown_dictionary=e:this.unknown_dictionary=new s}var i=t("doublearray"),o=t("./TokenInfoDictionary.js"),a=t("./ConnectionCosts.js"),s=t("./UnknownDictionary.js");e.prototype.loadTrie=function(t,n){return this.trie=i.load(t,n),this},e.prototype.loadTokenInfoDictionaries=function(t,n,r){return this.token_info_dictionary.loadDictionary(t),this.token_info_dictionary.loadPosVector(n),this.token_info_dictionary.loadTargetMap(r),this},e.prototype.loadConnectionCosts=function(t){return this.connection_costs.loadConnectionCosts(t),this},e.prototype.loadUnknownDictionaries=function(t,n,r,e,i,o){return this.unknown_dictionary.loadUnknownDictionaries(t,n,r,e,i,o),this},n.exports=e},{"./ConnectionCosts.js":7,"./TokenInfoDictionary.js":10,"./UnknownDictionary.js":11,doublearray:24}],9:[function(t,n,r){"use strict";function e(){this.map=[],this.lookup_table={}}var i=t("../util/ByteBuffer.js"),o=t("./CharacterClass.js");e.load=function(t){for(var n=new e,r=[],a=new i(t);a.position+1<a.size();){var s=r.length,u=a.get(),c=a.get(),f=a.getInt(),h=a.getString();r.push(new o(s,h,u,c,f))}return n.init(r),n},e.prototype.init=function(t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];this.map[n]=r,this.lookup_table[r.class_name]=n}},e.prototype.getCharacterClass=function(t){return this.map[t]},e.prototype.lookup=function(t){var n=this.lookup_table[t];return null==n?null:n},e.prototype.toBuffer=function(){for(var t=new i,n=0;n<this.map.length;n++){var r=this.map[n];t.put(r.is_always_invoke),t.put(r.is_grouping),t.putInt(r.max_length),t.putString(r.class_name)}return t.shrink(),t.buffer},n.exports=e},{"../util/ByteBuffer.js":15,"./CharacterClass.js":5}],10:[function(t,n,r){"use strict";function e(){this.dictionary=new i(10485760),this.target_map={},this.pos_buffer=new i(10485760)}var i=t("../util/ByteBuffer.js");e.prototype.buildDictionary=function(t){for(var n={},r=0;r<t.length;r++){var e=t[r];if(!(e.length<4)){var i=e[0],o=e[1],a=e[2],s=e[3],u=e.slice(4).join(",");isFinite(o)&&isFinite(a)&&isFinite(s)||console.log(e);var c=this.put(o,a,s,i,u);n[c]=i}}return this.dictionary.shrink(),this.pos_buffer.shrink(),n},e.prototype.put=function(t,n,r,e,i){var o=this.dictionary.position,a=this.pos_buffer.position;return this.dictionary.putShort(t),this.dictionary.putShort(n),this.dictionary.putShort(r),this.dictionary.putInt(a),this.pos_buffer.putString(e+","+i),o},e.prototype.addMapping=function(t,n){var r=this.target_map[t];null==r&&(r=[]),r.push(n),this.target_map[t]=r},e.prototype.targetMapToBuffer=function(){var t=new i,n=Object.keys(this.target_map).length;t.putInt(n);for(var r in this.target_map){var e=this.target_map[r],o=e.length;t.putInt(parseInt(r)),t.putInt(o);for(var a=0;a<e.length;a++)t.putInt(e[a])}return t.shrink()},e.prototype.loadDictionary=function(t){return this.dictionary=new i(t),this},e.prototype.loadPosVector=function(t){return this.pos_buffer=new i(t),this},e.prototype.loadTargetMap=function(t){var n=new i(t);for(n.position=0,this.target_map={},n.readInt();;){if(n.buffer.length<n.position+1)break;for(var r=n.readInt(),e=n.readInt(),o=0;e>o;o++){var a=n.readInt();this.addMapping(r,a)}}return this},e.prototype.getFeatures=function(t){var n=parseInt(t);if(isNaN(n))return"";var r=this.dictionary.getInt(n+6);return this.pos_buffer.getString(r)},n.exports=e},{"../util/ByteBuffer.js":15}],11:[function(t,n,r){"use strict";function e(){this.dictionary=new a(10485760),this.target_map={},this.pos_buffer=new a(10485760),this.character_definition=null}var i=t("./TokenInfoDictionary.js"),o=t("./CharacterDefinition.js"),a=t("../util/ByteBuffer.js");e.prototype=Object.create(i.prototype),e.prototype.characterDefinition=function(t){return this.character_definition=t,this},e.prototype.lookup=function(t){return this.character_definition.lookup(t)},e.prototype.lookupCompatibleCategory=function(t){return this.character_definition.lookupCompatibleCategory(t)},e.prototype.loadUnknownDictionaries=function(t,n,r,e,i,a){this.loadDictionary(t),this.loadPosVector(n),this.loadTargetMap(r),this.character_definition=o.load(e,i,a)},n.exports=e},{"../util/ByteBuffer.js":15,"./CharacterDefinition.js":6,"./TokenInfoDictionary.js":10}],12:[function(t,n,r){"use strict";var e=t("./TokenizerBuilder.js"),i=t("./util/DictionaryBuilder.js"),o={builder:function(t){return new e(t)},dictionaryBuilder:function(){return new i}};n.exports=o},{"./TokenizerBuilder.js":4,"./util/DictionaryBuilder.js":16}],13:[function(t,n,r){function e(t){o.apply(this,[t])}var i=t("zlibjs/bin/gunzip.min.js"),o=t("./DictionaryLoader");e.prototype=Object.create(o.prototype),e.prototype.loadArrayBuffer=function(t,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200!==this.status&&n(r.statusText,null);var t=this.response,e=new i.Zlib.Gunzip(new Uint8Array(t)),o=e.decompress();n(null,o.buffer)},r.onerror=function(t){n(t,null)},r.send()},n.exports=e},{"./DictionaryLoader":14,"zlibjs/bin/gunzip.min.js":25}],14:[function(t,n,r){"use strict";function e(t){this.dic=new a,this.dic_path=t}var i=t("path"),o=t("async"),a=t("../dict/DynamicDictionaries.js");e.prototype.loadArrayBuffer=function(t,n){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},e.prototype.load=function(t){var n=this.dic,r=this.dic_path,e=this.loadArrayBuffer;o.parallel([function(t){o.map(["base.dat.gz","check.dat.gz"],function(t,n){e(i.join(r,t),function(t,r){return t?n(t):void n(null,r)})},function(r,e){if(r)return t(r);var i=new Int32Array(e[0]),o=new Int32Array(e[1]);n.loadTrie(i,o),t(null)})},function(t){o.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(t,n){e(i.join(r,t),function(t,r){return t?n(t):void n(null,r)})},function(r,e){if(r)return t(r);var i=new Uint8Array(e[0]),o=new Uint8Array(e[1]),a=new Uint8Array(e[2]);n.loadTokenInfoDictionaries(i,o,a),t(null)})},function(t){e(i.join(r,"cc.dat.gz"),function(r,e){if(r)return t(r);var i=new Int16Array(e);n.loadConnectionCosts(i),t(null)})},function(t){o.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(t,n){e(i.join(r,t),function(t,r){return t?n(t):void n(null,r)})},function(r,e){if(r)return t(r);var i=new Uint8Array(e[0]),o=new Uint8Array(e[1]),a=new Uint8Array(e[2]),s=new Uint8Array(e[3]),u=new Uint32Array(e[4]),c=new Uint8Array(e[5]);n.loadUnknownDictionaries(i,o,a,s,u,c),t(null)})}],function(r){t(r,n)})},n.exports=e},{"../dict/DynamicDictionaries.js":8,async:23,path:1}],15:[function(t,n,r){"use strict";function e(t){var n;if(null==t)n=1048576;else{if("number"!=typeof t){if(t instanceof Uint8Array)return this.buffer=t,void(this.position=0);throw typeof t+" is invalid parameter type for ByteBuffer constructor"}n=t}this.buffer=new Uint8Array(n),this.position=0}var i=function(t){for(var n=new Uint8Array(4*t.length),r=0,e=0;r<t.length;){var i,o=t.charCodeAt(r++);if(o>=55296&&56319>=o){var a=o,s=t.charCodeAt(r++);if(!(s>=56320&&57343>=s))return null;i=1024*(a-55296)+65536+(s-56320)}else i=o;128>i?n[e++]=i:2048>i?(n[e++]=i>>>6|192,n[e++]=63&i|128):65536>i?(n[e++]=i>>>12|224,n[e++]=i>>6&63|128,n[e++]=63&i|128):1<<21>i&&(n[e++]=i>>>18|240,n[e++]=i>>12&63|128,n[e++]=i>>6&63|128,n[e++]=63&i|128)}return n.subarray(0,e)},o=function(t){for(var n,r,e,i,o,a,s,u="",c=0;c<t.length;)r=t[c++],128>r?n=r:r>>5===6?(e=t[c++],n=(31&r)<<6|63&e):r>>4===14?(e=t[c++],i=t[c++],n=(15&r)<<12|(63&e)<<6|63&i):(e=t[c++],i=t[c++],o=t[c++],n=(7&r)<<18|(63&e)<<12|(63&i)<<6|63&o),65536>n?u+=String.fromCharCode(n):(n-=65536,a=55296|n>>10,s=56320|1023&n,u+=String.fromCharCode(a,s));return u};e.prototype.size=function(){return this.buffer.length},e.prototype.reallocate=function(){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t},e.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},e.prototype.put=function(t){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=t},e.prototype.get=function(t){return null==t&&(t=this.position,this.position+=1),this.buffer.length<t+1?0:this.buffer[t]},e.prototype.putShort=function(t){if(t>65535)throw t+" is over short value";var n=255&t,r=(65280&t)>>8;this.put(n),this.put(r)},e.prototype.getShort=function(t){if(null==t&&(t=this.position,this.position+=2),this.buffer.length<t+2)return 0;var n=this.buffer[t],r=this.buffer[t+1];return(r<<8)+n},e.prototype.putInt=function(t){if(t>4294967295)throw t+" is over integer value";var n=255&t,r=(65280&t)>>8,e=(16711680&t)>>16,i=(4278190080&t)>>24;this.put(n),this.put(r),this.put(e),this.put(i)},e.prototype.getInt=function(t){if(null==t&&(t=this.position,this.position+=4),this.buffer.length<t+4)return 0;var n=this.buffer[t],r=this.buffer[t+1],e=this.buffer[t+2],i=this.buffer[t+3];return(i<<24)+(e<<16)+(r<<8)+n},e.prototype.readInt=function(){var t=this.position;return this.position+=4,this.getInt(t)},e.prototype.putString=function(t){for(var n=i(t),r=0;r<n.length;r++)this.put(n[r]);this.put(0)},e.prototype.getString=function(t){var n,r=[];for(null==t&&(t=this.position);;){if(this.buffer.length<t+1)break;if(n=this.get(t++),0===n)break;r.push(n)}return this.position=t,o(r)},n.exports=e},{}],16:[function(t,n,r){"use strict";function e(){this.tid_entries=[],this.unk_entries=[],this.matrix_text="0 0",this.char_text=""}var i=t("doublearray"),o=t("../dict/DynamicDictionaries.js"),a=t("../dict/TokenInfoDictionary.js"),s=t("../dict/ConnectionCosts.js"),u=t("../dict/UnknownDictionary.js"),c=t("../dict/CharacterDefinition.js");e.prototype.addTokenInfoDictionary=function(t){var n=t.split(/\n/).map(function(t){return t.split(",")});return this.tid_entries=this.tid_entries.concat(n),this},e.prototype.costMatrix=function(t){return this.matrix_text=t,this},e.prototype.charDef=function(t){return this.char_text=t,this},e.prototype.unkDef=function(t){return this.unk_entries=t.split(/\n/).map(function(t){return t.split(",")}),this},e.prototype.build=function(){var t=this.buildTokenInfoDictionary(),n=this.buildConnectionCosts(),r=this.buildUnknownDictionary();return new o(t.trie,t.token_info_dictionary,n,r)},e.prototype.buildTokenInfoDictionary=function(){var t=new a,n=t.buildDictionary(this.tid_entries),r=this.buildDoubleArray();for(var e in n){var i=n[e],o=r.lookup(i);t.addMapping(o,e)}return{trie:r,token_info_dictionary:t}},e.prototype.buildUnknownDictionary=function(){var t=new u,n=t.buildDictionary(this.unk_entries),r=c.readCharacterDefinition(this.char_text);t.characterDefinition(r);for(var e in n){var i=n[e],o=r.invoke_definition_map.lookup(i);t.addMapping(o,e)}return t},e.prototype.buildConnectionCosts=function(){return s.build(this.matrix_text)},e.prototype.buildDoubleArray=function(){var t=0,n=this.tid_entries.map(function(n){var r=n[0];return{k:r,v:t++}}),r=i.builder(1048576);return r.build(n)},n.exports=e},{"../dict/CharacterDefinition.js":6,"../dict/ConnectionCosts.js":7,"../dict/DynamicDictionaries.js":8,"../dict/TokenInfoDictionary.js":10,"../dict/UnknownDictionary.js":11,doublearray:24}],17:[function(t,n,r){"use strict";function e(){}e.prototype.formatEntry=function(t,n,r,e){var i={};return i.word_id=t,i.word_type=r,i.word_position=n,i.surface_form=e[0],i.pos=e[1],i.pos_detail_1=e[2],i.pos_detail_2=e[3],i.pos_detail_3=e[4],i.conjugated_type=e[5],i.conjugated_form=e[6],i.basic_form=e[7],i.reading=e[8],i.pronunciation=e[9],i},e.prototype.formatUnknownEntry=function(t,n,r,e,i){var o={};return o.word_id=t,o.word_type=r,o.word_position=n,o.surface_form=i,o.pos=e[1],o.pos_detail_1=e[2],o.pos_detail_2=e[3],o.pos_detail_3=e[4],o.conjugated_type=e[5],o.conjugated_form=e[6],o.basic_form=e[7],o},n.exports=e},{}],18:[function(t,n,r){"use strict";function e(t){this.str=t,this.index_mapping=[];for(var n=0;n<t.length;n++){var r=t.charAt(n);this.index_mapping.push(n),e.isSurrogatePair(r)&&n++}this.length=this.index_mapping.length}e.prototype.slice=function(t){if(this.index_mapping.length<=t)return"";var n=this.index_mapping[t];return this.str.slice(n)},e.prototype.charAt=function(t){if(this.str.length<=t)return"";var n=this.index_mapping[t],r=this.index_mapping[t+1];return null==r?this.str.slice(n):this.str.slice(n,r)},e.prototype.charCodeAt=function(t){if(this.index_mapping.length<=t)return NaN;var n,r=this.index_mapping[t],e=this.str.charCodeAt(r);return e>=55296&&56319>=e&&r<this.str.length&&(n=this.str.charCodeAt(r+1),n>=56320&&57343>=n)?1024*(e-55296)+n-56320+65536:e},e.prototype.toString=function(){return this.str},e.isSurrogatePair=function(t){var n=t.charCodeAt(0);return n>=55296&&56319>=n?!0:!1},n.exports=e},{}],19:[function(t,n,r){"use strict";function e(t){this.trie=t.trie,this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary}var i=t("./ViterbiNode.js"),o=t("./ViterbiLattice.js"),a=t("../util/SurrogateAwareString.js");e.prototype.build=function(t){for(var n,r,e,s,u,c=new o,f=new a(t),h=0;h<f.length;h++){for(var l=f.slice(h),p=this.trie.commonPrefixSearch(l),y=0;y<p.length;y++){r=p[y].v,n=p[y].k;for(var d=this.token_info_dictionary.target_map[r],g=0;g<d.length;g++){var v=parseInt(d[g]);e=this.token_info_dictionary.dictionary.getShort(v),s=this.token_info_dictionary.dictionary.getShort(v+2),u=this.token_info_dictionary.dictionary.getShort(v+4),c.append(new i(v,u,h+1,n.length,"KNOWN",e,s,n))}}var m=new a(l),_=new a(m.charAt(0)),b=this.unknown_dictionary.lookup(_.toString());if(null==p||0===p.length||1===b.is_always_invoke){if(n=_,1===b.is_grouping&&1<m.length)for(var w=1;w<m.length;w++){var k=m.charAt(w),A=this.unknown_dictionary.lookup(k);if(b.class_name!==A.class_name)break;n+=k}for(var C=this.unknown_dictionary.target_map[b.class_id],j=0;j<C.length;j++){var E=parseInt(C[j]);e=this.unknown_dictionary.dictionary.getShort(E),s=this.unknown_dictionary.dictionary.getShort(E+2),u=this.unknown_dictionary.dictionary.getShort(E+4),c.append(new i(E,u,h+1,n.length,"UNKNOWN",e,s,n.toString()))}}}return c.appendEos(),c},n.exports=e},{"../util/SurrogateAwareString.js":18,"./ViterbiLattice.js":20,"./ViterbiNode.js":21}],20:[function(t,n,r){"use strict";function e(){this.nodes_end_at=[],this.nodes_end_at[0]=[new i("BOS",0,0,0,"BOS",0,0)],this.eos_pos=1}var i=t("./ViterbiNode.js");e.prototype.append=function(t){var n=t.start_pos+t.length-1;this.eos_pos<n&&(this.eos_pos=n);var r=this.nodes_end_at[n];null==r&&(r=[]),r.push(t),this.nodes_end_at[n]=r},e.prototype.appendEos=function(){var t=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[t]=[new i("EOS",0,this.eos_pos,0,"EOS",0,0)]},n.exports=e},{"./ViterbiNode.js":21}],21:[function(t,n,r){"use strict";function e(t,n,r,e,i,o,a,s){this.name=t,this.cost=n,this.start_pos=r,this.length=e,this.left_id=o,this.right_id=a,this.prev=null,this.surface_form=s,"BOS"===i?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=i}n.exports=e},{}],22:[function(t,n,r){"use strict";function e(t){this.connection_costs=t}e.prototype.search=function(t){return t=this.forward(t),this.backward(t)},e.prototype.forward=function(t){var n,r,e;for(n=1;n<=t.eos_pos;n++){var i=t.nodes_end_at[n];if(null!=i)for(r=0;r<i.length;r++){var o,a=i[r],s=Number.MAX_VALUE,u=t.nodes_end_at[a.start_pos-1];if(null!=u){for(e=0;e<u.length;e++){var c,f=u[e];null==a.left_id||null==f.right_id?(console.log("Left or right is null"),c=0):c=this.connection_costs.get(f.right_id,a.left_id);var h=f.shortest_cost+c+a.cost;s>h&&(o=f,s=h)}a.prev=o,a.shortest_cost=s}}}return t},e.prototype.backward=function(t){var n=[],r=t.nodes_end_at[t.nodes_end_at.length-1][0],e=r.prev;if(null==e)return[];for(;"BOS"!==e.type;){if(n.push(e),null==e.prev)return[];e=e.prev}return n.reverse()},n.exports=e},{}],23:[function(n,r,e){(function(n,e){!function(){function i(){}function o(t){return t}function a(t){return!!t}function s(t){return!t}function u(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function c(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}function f(t){return H(t)||"number"==typeof t.length&&t.length>=0&&t.length%1===0}function h(t,n){for(var r=-1,e=t.length;++r<e;)n(t[r],r,t)}function l(t,n){for(var r=-1,e=t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}function p(t){return l(Array(t),function(t,n){return n})}function y(t,n,r){return h(t,function(t,e,i){r=n(r,t,e,i)}),r}function d(t,n){h(F(t),function(r){n(t[r],r)})}function g(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return r;return-1}function v(t){var n,r,e=-1;return f(t)?(n=t.length,function(){return e++,n>e?e:null}):(r=F(t),n=r.length,function(){return e++,n>e?r[e]:null})}function m(t,n){return n=null==n?t.length-1:+n,function(){for(var r=Math.max(arguments.length-n,0),e=Array(r),i=0;r>i;i++)e[i]=arguments[i+n];switch(n){case 0:return t.call(this,e);case 1:return t.call(this,arguments[0],e)}}}function _(t){return function(n,r,e){return t(n,e)}}function b(t){return function(n,r,e){e=c(e||i),n=n||[];var o=v(n);if(0>=t)return e(null);var a=!1,s=0,f=!1;!function h(){if(a&&0>=s)return e(null);for(;t>s&&!f;){var i=o();if(null===i)return a=!0,void(0>=s&&e(null));s+=1,r(n[i],i,u(function(t){s-=1,t?(e(t),f=!0):h()}))}}()}}function w(t){return function(n,r,e){return t(O.eachOf,n,r,e)}}function k(t){return function(n,r,e,i){return t(b(r),n,e,i)}}function A(t){return function(n,r,e){return t(O.eachOfSeries,n,r,e)}}function C(t,n,r,e){e=c(e||i),n=n||[];var o=f(n)?[]:{};t(n,function(t,n,e){r(t,function(t,r){o[n]=r,e(t)})},function(t){e(t,o)})}function j(t,n,r,e){var i=[];t(n,function(t,n,e){r(t,function(r){r&&i.push({index:n,value:t}),e()})},function(){e(l(i.sort(function(t,n){return t.index-n.index}),function(t){return t.value}))})}function E(t,n,r,e){j(t,n,function(t,n){r(t,function(t){n(!t)})},e)}function S(t,n,r){return function(e,i,o,a){function s(){a&&a(r(!1,void 0))}function u(t,e,i){return a?void o(t,function(e){a&&n(e)&&(a(r(!0,t)),a=o=!1),i()}):i()}arguments.length>3?t(e,i,u,s):(a=o,o=i,t(e,u,s))}}function T(t,n){return n}function x(t,n,r){r=r||i;var e=f(n)?[]:{};t(n,function(t,n,r){t(m(function(t,i){i.length<=1&&(i=i[0]),e[n]=i,r(t)}))},function(t){r(t,e)})}function I(t,n,r,e){var i=[];t(n,function(t,n,e){r(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){e(t,i)})}function U(t,n,r){function e(t,n,r,e){if(null!=e&&"function"!=typeof e)throw new Error("task callback must be a function");return t.started=!0,H(n)||(n=[n]),0===n.length&&t.idle()?O.setImmediate(function(){t.drain()}):(h(n,function(n){var o={data:n,callback:e||i};r?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void O.setImmediate(t.process))}function o(t,n){return function(){a-=1;var r=!1,e=arguments;h(n,function(t){h(s,function(n,e){n!==t||r||(s.splice(e,1),r=!0)}),t.callback.apply(t,e)}),t.tasks.length+a===0&&t.drain(),t.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var a=0,s=[],c={tasks:[],concurrency:n,payload:r,saturated:i,empty:i,drain:i,started:!1,paused:!1,push:function(t,n){e(c,t,!1,n)},kill:function(){c.drain=i,c.tasks=[]},unshift:function(t,n){e(c,t,!0,n)},process:function(){for(;!c.paused&&a<c.concurrency&&c.tasks.length;){var n=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),r=l(n,function(t){return t.data});0===c.tasks.length&&c.empty(),a+=1,s.push(n[0]);var e=u(o(c,n));t(r,e)}},length:function(){return c.tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return c.tasks.length+a===0},pause:function(){c.paused=!0},resume:function(){if(c.paused!==!1){c.paused=!1;for(var t=Math.min(c.concurrency,c.tasks.length),n=1;t>=n;n++)O.setImmediate(c.process)}}};return c}function D(t){return m(function(n,r){n.apply(null,r.concat([m(function(n,r){"object"==typeof console&&(n?console.error&&console.error(n):console[t]&&h(r,function(n){console[t](n)}))})]))})}function R(t){return function(n,r,e){t(p(n),r,e)}}function L(t){return m(function(n,r){var e=m(function(r){var e=this,i=r.pop();return t(n,function(t,n,i){t.apply(e,r.concat([i]))},i)});return r.length?e.apply(this,r):e})}function z(t){return m(function(n){var r=n.pop();n.push(function(){var t=arguments;e?O.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var e=!0;t.apply(this,n),e=!1})}var N,O={},B="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;null!=B&&(N=B.async),O.noConflict=function(){return B.async=N,O};var K=Object.prototype.toString,H=Array.isArray||function(t){return"[object Array]"===K.call(t)},P=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},F=Object.keys||function(t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);return n},M="function"==typeof setImmediate&&setImmediate,q=M?function(t){M(t)}:function(t){setTimeout(t,0)};"object"==typeof n&&"function"==typeof n.nextTick?O.nextTick=n.nextTick:O.nextTick=q,O.setImmediate=M?q:O.nextTick,O.forEach=O.each=function(t,n,r){return O.eachOf(t,_(n),r)},O.forEachSeries=O.eachSeries=function(t,n,r){return O.eachOfSeries(t,_(n),r)},O.forEachLimit=O.eachLimit=function(t,n,r,e){return b(n)(t,_(r),e)},O.forEachOf=O.eachOf=function(t,n,r){function e(t){s--,t?r(t):null===o&&0>=s&&r(null)}r=c(r||i),t=t||[];for(var o,a=v(t),s=0;null!=(o=a());)s+=1,n(t[o],o,u(e));0===s&&r(null)},O.forEachOfSeries=O.eachOfSeries=function(t,n,r){function e(){var i=!0;return null===a?r(null):(n(t[a],a,u(function(t){if(t)r(t);else{if(a=o(),null===a)return r(null);i?O.setImmediate(e):e()}})),void(i=!1))}r=c(r||i),t=t||[];var o=v(t),a=o();e()},O.forEachOfLimit=O.eachOfLimit=function(t,n,r,e){b(n)(t,r,e)},O.map=w(C),O.mapSeries=A(C),O.mapLimit=k(C),O.inject=O.foldl=O.reduce=function(t,n,r,e){O.eachOfSeries(t,function(t,e,i){r(n,t,function(t,r){n=r,i(t)})},function(t){e(t,n)})},O.foldr=O.reduceRight=function(t,n,r,e){var i=l(t,o).reverse();O.reduce(i,n,r,e)},O.transform=function(t,n,r,e){3===arguments.length&&(e=r,r=n,n=H(t)?[]:{}),O.eachOf(t,function(t,e,i){r(n,t,e,i);
},function(t){e(t,n)})},O.select=O.filter=w(j),O.selectLimit=O.filterLimit=k(j),O.selectSeries=O.filterSeries=A(j),O.reject=w(E),O.rejectLimit=k(E),O.rejectSeries=A(E),O.any=O.some=S(O.eachOf,a,o),O.someLimit=S(O.eachOfLimit,a,o),O.all=O.every=S(O.eachOf,s,s),O.everyLimit=S(O.eachOfLimit,s,s),O.detect=S(O.eachOf,o,T),O.detectSeries=S(O.eachOfSeries,o,T),O.detectLimit=S(O.eachOfLimit,o,T),O.sortBy=function(t,n,r){function e(t,n){var r=t.criteria,e=n.criteria;return e>r?-1:r>e?1:0}O.map(t,function(t,r){n(t,function(n,e){n?r(n):r(null,{value:t,criteria:e})})},function(t,n){return t?r(t):void r(null,l(n.sort(e),function(t){return t.value}))})},O.auto=function(t,n,r){function e(t){v.unshift(t)}function o(t){var n=g(v,t);n>=0&&v.splice(n,1)}function a(){u--,h(v.slice(0),function(t){t()})}"function"==typeof arguments[1]&&(r=n,n=null),r=c(r||i);var s=F(t),u=s.length;if(!u)return r(null);n||(n=u);var f={},l=0,p=!1,v=[];e(function(){u||r(null,f)}),h(s,function(i){function s(){return n>l&&y(_,function(t,n){return t&&f.hasOwnProperty(n)},!0)&&!f.hasOwnProperty(i)}function u(){s()&&(l++,o(u),h[h.length-1](v,f))}if(!p){for(var c,h=H(t[i])?t[i]:[t[i]],v=m(function(t,n){if(l--,n.length<=1&&(n=n[0]),t){var e={};d(f,function(t,n){e[n]=t}),e[i]=n,p=!0,r(t,e)}else f[i]=n,O.setImmediate(a)}),_=h.slice(0,h.length-1),b=_.length;b--;){if(!(c=t[_[b]]))throw new Error("Has inexistant dependency");if(H(c)&&g(c,i)>=0)throw new Error("Has cyclic dependencies")}s()?(l++,h[h.length-1](v,f)):e(u)}})},O.retry=function(t,n,r){function e(t,n){if("number"==typeof n)t.times=parseInt(n,10)||o;else{if("object"!=typeof n)throw new Error("Unsupported argument type for 'times': "+typeof n);t.times=parseInt(n.times,10)||o,t.interval=parseInt(n.interval,10)||a}}function i(t,n){function r(t,r){return function(e){t(function(t,n){e(!t||r,{err:t,result:n})},n)}}function e(t){return function(n){setTimeout(function(){n(null)},t)}}for(;u.times;){var i=!(u.times-=1);s.push(r(u.task,i)),!i&&u.interval>0&&s.push(e(u.interval))}O.series(s,function(n,r){r=r[r.length-1],(t||u.callback)(r.err,r.result)})}var o=5,a=0,s=[],u={times:o,interval:a},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof t&&(r=n,n=t),"function"!=typeof t&&e(u,t),u.callback=r,u.task=n,u.callback?i():i},O.waterfall=function(t,n){function r(t){return m(function(e,i){if(e)n.apply(null,[e].concat(i));else{var o=t.next();o?i.push(r(o)):i.push(n),z(t).apply(null,i)}})}if(n=c(n||i),!H(t)){var e=new Error("First argument to waterfall must be an array of functions");return n(e)}return t.length?void r(O.iterator(t))():n()},O.parallel=function(t,n){x(O.eachOf,t,n)},O.parallelLimit=function(t,n,r){x(b(n),t,r)},O.series=function(t,n){x(O.eachOfSeries,t,n)},O.iterator=function(t){function n(r){function e(){return t.length&&t[r].apply(null,arguments),e.next()}return e.next=function(){return r<t.length-1?n(r+1):null},e}return n(0)},O.apply=m(function(t,n){return m(function(r){return t.apply(null,n.concat(r))})}),O.concat=w(I),O.concatSeries=A(I),O.whilst=function(t,n,r){if(r=r||i,t()){var e=m(function(i,o){i?r(i):t.apply(this,o)?n(e):r.apply(null,[null].concat(o))});n(e)}else r(null)},O.doWhilst=function(t,n,r){var e=0;return O.whilst(function(){return++e<=1||n.apply(this,arguments)},t,r)},O.until=function(t,n,r){return O.whilst(function(){return!t.apply(this,arguments)},n,r)},O.doUntil=function(t,n,r){return O.doWhilst(t,function(){return!n.apply(this,arguments)},r)},O.during=function(t,n,r){r=r||i;var e=m(function(n,e){n?r(n):(e.push(o),t.apply(this,e))}),o=function(t,i){t?r(t):i?n(e):r(null)};t(o)},O.doDuring=function(t,n,r){var e=0;O.during(function(t){e++<1?t(null,!0):n.apply(this,arguments)},t,r)},O.queue=function(t,n){var r=U(function(n,r){t(n[0],r)},n,1);return r},O.priorityQueue=function(t,n){function r(t,n){return t.priority-n.priority}function e(t,n,r){for(var e=-1,i=t.length-1;i>e;){var o=e+(i-e+1>>>1);r(n,t[o])>=0?e=o:i=o-1}return e}function o(t,n,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,H(n)||(n=[n]),0===n.length?O.setImmediate(function(){t.drain()}):void h(n,function(n){var s={data:n,priority:o,callback:"function"==typeof a?a:i};t.tasks.splice(e(t.tasks,s,r)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),O.setImmediate(t.process)})}var a=O.queue(t,n);return a.push=function(t,n,r){o(a,t,n,r)},delete a.unshift,a},O.cargo=function(t,n){return U(t,1,n)},O.log=D("log"),O.dir=D("dir"),O.memoize=function(t,n){var r={},e={};n=n||o;var i=m(function(i){var o=i.pop(),a=n.apply(null,i);a in r?O.setImmediate(function(){o.apply(null,r[a])}):a in e?e[a].push(o):(e[a]=[o],t.apply(null,i.concat([m(function(t){r[a]=t;var n=e[a];delete e[a];for(var i=0,o=n.length;o>i;i++)n[i].apply(null,t)})])))});return i.memo=r,i.unmemoized=t,i},O.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},O.times=R(O.map),O.timesSeries=R(O.mapSeries),O.timesLimit=function(t,n,r,e){return O.mapLimit(p(t),n,r,e)},O.seq=function(){var t=arguments;return m(function(n){var r=this,e=n[n.length-1];"function"==typeof e?n.pop():e=i,O.reduce(t,n,function(t,n,e){n.apply(r,t.concat([m(function(t,n){e(t,n)})]))},function(t,n){e.apply(r,[t].concat(n))})})},O.compose=function(){return O.seq.apply(null,Array.prototype.reverse.call(arguments))},O.applyEach=L(O.eachOf),O.applyEachSeries=L(O.eachOfSeries),O.forever=function(t,n){function r(t){return t?e(t):void o(r)}var e=u(n||i),o=z(t);r()},O.ensureAsync=z,O.constant=m(function(t){var n=[null].concat(t);return function(t){return t.apply(this,n)}}),O.wrapSync=O.asyncify=function(t){return m(function(n){var r,e=n.pop();try{r=t.apply(this,n)}catch(i){return e(i)}P(r)&&"function"==typeof r.then?r.then(function(t){e(null,t)})["catch"](function(t){e(t.message?t:new Error(t))}):e(null,r)})},"object"==typeof r&&r.exports?r.exports=O:"function"==typeof t&&t.amd?t([],function(){return O}):B.async=O}()}).call(this,n("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],24:[function(t,n,r){!function(){"use strict";function t(t){this.bc=l(t),this.keys=[]}function r(t){this.bc=t,this.bc.shrink()}var e="\x00",i=0,o=0,a=-1,s=!0,u=!0,c=4,f=4,h=2,l=function(t){null==t&&(t=1024);var n=function(t,n,r){for(var e=n;r>e;e++)t[e]=-e+1;if(0<l.array[l.array.length-1]){for(var i=l.array.length-2;0<l.array[i];)i--;t[n]=-i}},r=function(t,n,r){for(var e=n;r>e;e++)t[e]=-e-1},e=function(t){var e=t*h,i=p(a.signed,a.bytes,e);n(i,a.array.length,e),i.set(a.array),a.array=null,a.array=i;var o=p(l.signed,l.bytes,e);r(o,l.array.length,e),o.set(l.array),l.array=null,l.array=o},i=o+1,a={signed:s,bytes:c,array:p(s,c,t)},l={signed:u,bytes:f,array:p(u,f,t)};return a.array[o]=1,l.array[o]=o,n(a.array,o+1,a.array.length),r(l.array,o+1,l.array.length),{getBaseBuffer:function(){return a.array},getCheckBuffer:function(){return l.array},loadBaseBuffer:function(t){return a.array=t,this},loadCheckBuffer:function(t){return l.array=t,this},size:function(){return Math.max(a.array.length,l.array.length)},getBase:function(t){return a.array.length-1<t?-t+1:a.array[t]},getCheck:function(t){return l.array.length-1<t?-t-1:l.array[t]},setBase:function(t,n){a.array.length-1<t&&e(t),a.array[t]=n},setCheck:function(t,n){l.array.length-1<t&&e(t),l.array[t]=n},setFirstUnusedNode:function(t){i=t},getFirstUnusedNode:function(){return i},shrink:function(){for(var t=this.size()-1;;){if(0<=l.array[t])break;t--}a.array=a.array.subarray(0,t+2),l.array=l.array.subarray(0,t+2)},calc:function(){for(var t=0,n=l.array.length,r=0;n>r;r++)l.array[r]<0&&t++;return{all:n,unused:t,efficiency:(n-t)/n}},dump:function(){var t,n="",r="";for(t=0;t<a.array.length;t++)n=n+" "+this.getBase(t);for(t=0;t<l.array.length;t++)r=r+" "+this.getCheck(t);return console.log("base:"+n),console.log("chck:"+r),"base:"+n+" chck:"+r}}};t.prototype.append=function(t,n){return this.keys.push({k:t,v:n}),this},t.prototype.build=function(t,n){if(null==t&&(t=this.keys),null==t)return new r(this.bc);null==n&&(n=!1);var i=t.map(function(t){return{k:d(t.k+e),v:t.v}});return n?this.keys=i:this.keys=i.sort(function(t,n){for(var r=t.k,e=n.k,i=Math.min(r.length,e.length),o=0;i>o;o++)if(r[o]!==e[o])return r[o]-e[o];return r.length-e.length}),i=null,this._build(o,0,0,this.keys.length),new r(this.bc)},t.prototype._build=function(t,n,r,e){var o=this.getChildrenInfo(n,r,e),a=this.findAllocatableBase(o);this.setBC(t,o,a);for(var s=0;s<o.length;s+=3){var u=o[s];if(u!==i){var c=o[s+1],f=o[s+2],h=a+u;this._build(h,n+1,c,f)}}},t.prototype.getChildrenInfo=function(t,n,r){var e=this.keys[n].k[t],i=0,o=new Int32Array(3*r);o[i++]=e,o[i++]=n;for(var a=n,s=n;n+r>a;a++){var u=this.keys[a].k[t];e!==u&&(o[i++]=a-s,o[i++]=u,o[i++]=a,e=u,s=a)}return o[i++]=a-s,o=o.subarray(0,i)},t.prototype.setBC=function(t,n,r){var e=this.bc;e.setBase(t,r);var o;for(o=0;o<n.length;o+=3){var a=n[o],s=r+a,u=-e.getBase(s),c=-e.getCheck(s);s!==e.getFirstUnusedNode()?e.setCheck(u,-c):e.setFirstUnusedNode(c),e.setBase(c,-u);var f=t;if(e.setCheck(s,f),a===i){var h=n[o+1],l=this.keys[h].v;null==l&&(l=0);var p=-l-1;e.setBase(s,p)}}},t.prototype.findAllocatableBase=function(t){for(var n,r=this.bc,e=r.getFirstUnusedNode();;)if(n=e-t[0],0>n)e=-r.getCheck(e);else{for(var i=!0,o=0;o<t.length;o+=3){var a=t[o],s=n+a;if(!this.isUnusedNode(s)){e=-r.getCheck(e),i=!1;break}}if(i)return n}},t.prototype.isUnusedNode=function(t){var n=this.bc,r=n.getCheck(t);return t===o?!1:0>r?!0:!1},r.prototype.contain=function(t){var n=this.bc;t+=e;for(var r=d(t),i=o,s=a,u=0;u<r.length;u++){var c=r[u];if(s=this.traverse(i,c),s===a)return!1;if(n.getBase(s)<=0)return!0;i=s}return!1},r.prototype.lookup=function(t){t+=e;for(var n=d(t),r=o,i=a,s=0;s<n.length;s++){var u=n[s];if(i=this.traverse(r,u),i===a)return a;r=i}var c=this.bc.getBase(i);return 0>=c?-c-1:a},r.prototype.commonPrefixSearch=function(t){for(var n=d(t),r=o,e=a,s=[],u=0;u<n.length;u++){var c=n[u];e=this.traverse(r,c);{if(e===a)break;r=e;var f=this.traverse(e,i);if(f!==a){var h=this.bc.getBase(f),l={};0>=h&&(l.v=-h-1),l.k=g(y(n,0,u+1)),s.push(l)}}}return s},r.prototype.traverse=function(t,n){var r=this.bc.getBase(t)+n;return this.bc.getCheck(r)===t?r:a},r.prototype.size=function(){return this.bc.size()},r.prototype.calc=function(){return this.bc.calc()},r.prototype.dump=function(){return this.bc.dump()};var p=function(t,n,r){if(t)switch(n){case 1:return new Int8Array(r);case 2:return new Int16Array(r);case 4:return new Int32Array(r);default:throw new RangeError("Invalid newArray parameter element_bytes:"+n)}else switch(n){case 1:return new Uint8Array(r);case 2:return new Uint16Array(r);case 4:return new Uint32Array(r);default:throw new RangeError("Invalid newArray parameter element_bytes:"+n)}},y=function(t,n,r){var e=new ArrayBuffer(r),i=new Uint8Array(e,0,r),o=t.subarray(n,r);return i.set(o),i},d=function(t){for(var n=new Uint8Array(new ArrayBuffer(4*t.length)),r=0,e=0;r<t.length;){var i,o=t.charCodeAt(r++);if(o>=55296&&56319>=o){var a=o,s=t.charCodeAt(r++);if(!(s>=56320&&57343>=s))return null;i=1024*(a-55296)+65536+(s-56320)}else i=o;128>i?n[e++]=i:2048>i?(n[e++]=i>>>6|192,n[e++]=63&i|128):65536>i?(n[e++]=i>>>12|224,n[e++]=i>>6&63|128,n[e++]=63&i|128):1<<21>i&&(n[e++]=i>>>18|240,n[e++]=i>>12&63|128,n[e++]=i>>6&63|128,n[e++]=63&i|128)}return n.subarray(0,e)},g=function(t){for(var n,r,e,i,o,a,s,u="",c=0;c<t.length;)r=t[c++],128>r?n=r:r>>5===6?(e=t[c++],n=(31&r)<<6|63&e):r>>4===14?(e=t[c++],i=t[c++],n=(15&r)<<12|(63&e)<<6|63&i):(e=t[c++],i=t[c++],o=t[c++],n=(7&r)<<18|(63&e)<<12|(63&i)<<6|63&o),65536>n?u+=String.fromCharCode(n):(n-=65536,a=55296|n>>10,s=56320|1023&n,u+=String.fromCharCode(a,s));return u},v={builder:function(n){return new t(n)},load:function(t,n){var e=l(0);return e.loadBaseBuffer(t),e.loadCheckBuffer(n),new r(e)}};"undefined"==typeof n?window.doublearray=v:n.exports=v}()},{}],25:[function(t,n,r){(function(){"use strict";function t(t){throw t}function n(t,n){var r=t.split("."),e=h;!(r[0]in e)&&e.execScript&&e.execScript("var "+r[0]);for(var i;r.length&&(i=r.shift());)r.length||n===f?e=e[i]?e[i]:e[i]={}:e[i]=n}function r(t,n,r){var e,i="number"==typeof n?n:n=0,o="number"==typeof r?r:t.length;for(e=-1,i=7&o;i--;++n)e=e>>>8^v[255&(e^t[n])];for(i=o>>3;i--;n+=8)e=e>>>8^v[255&(e^t[n])],e=e>>>8^v[255&(e^t[n+1])],e=e>>>8^v[255&(e^t[n+2])],e=e>>>8^v[255&(e^t[n+3])],e=e>>>8^v[255&(e^t[n+4])],e=e>>>8^v[255&(e^t[n+5])],e=e>>>8^v[255&(e^t[n+6])],e=e>>>8^v[255&(e^t[n+7])];return(4294967295^e)>>>0}function e(){}function i(t){var n,r,e,i,o,a,s,u,c,f,h=t.length,p=0,y=Number.POSITIVE_INFINITY;for(u=0;h>u;++u)t[u]>p&&(p=t[u]),t[u]<y&&(y=t[u]);for(n=1<<p,r=new(l?Uint32Array:Array)(n),e=1,i=0,o=2;p>=e;){for(u=0;h>u;++u)if(t[u]===e){for(a=0,s=i,c=0;e>c;++c)a=a<<1|1&s,s>>=1;for(f=e<<16|u,c=a;n>c;c+=o)r[c]=f;++i}++e,i<<=1,o<<=1}return[r,p,y]}function o(n,r){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=l?new Uint8Array(n):n,this.o=!1,this.k=k,this.z=!1,(r||!(r={}))&&(r.index&&(this.c=r.index),r.bufferSize&&(this.j=r.bufferSize),r.bufferType&&(this.k=r.bufferType),r.resize&&(this.z=r.resize)),this.k){case w:this.a=32768,this.b=new(l?Uint8Array:Array)(32768+this.j+258);break;case k:this.a=0,this.b=new(l?Uint8Array:Array)(this.j),this.e=this.F,this.q=this.B,this.l=this.D;break;default:t(Error("invalid inflate mode"))}}function a(n,r){for(var e,i=n.f,o=n.d,a=n.input,s=n.c,u=a.length;r>o;)s>=u&&t(Error("input buffer is broken")),i|=a[s++]<<o,o+=8;return e=i&(1<<r)-1,n.f=i>>>r,n.d=o-r,n.c=s,e}function s(t,n){for(var r,e,i=t.f,o=t.d,a=t.input,s=t.c,u=a.length,c=n[0],f=n[1];f>o&&!(s>=u);)i|=a[s++]<<o,o+=8;return r=c[i&(1<<f)-1],e=r>>>16,t.f=i>>e,t.d=o-e,t.c=s,65535&r}function u(t){function n(t,n,r){var e,i,o,u=this.w;for(o=0;t>o;)switch(e=s(this,n)){case 16:for(i=3+a(this,2);i--;)r[o++]=u;break;case 17:for(i=3+a(this,3);i--;)r[o++]=0;u=0;break;case 18:for(i=11+a(this,7);i--;)r[o++]=0;u=0;break;default:u=r[o++]=e}return this.w=u,r}var r,e,o,u,c=a(t,5)+257,f=a(t,5)+1,h=a(t,4)+4,p=new(l?Uint8Array:Array)(E.length);for(u=0;h>u;++u)p[E[u]]=a(t,3);if(!l)for(u=h,h=p.length;h>u;++u)p[E[u]]=0;r=i(p),e=new(l?Uint8Array:Array)(c),o=new(l?Uint8Array:Array)(f),t.w=0,t.l(i(n.call(t,c,r,e)),i(n.call(t,f,r,o)))}function c(t){this.input=t,this.c=0,this.m=[],this.s=!1}var f=void 0,h=this,l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;new(l?Uint8Array:Array)(256);var p;for(p=0;256>p;++p)for(var y=p,d=7,y=y>>>1;y;y>>>=1)--d;var g=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],v=l?new Uint32Array(g):g;e.prototype.getName=function(){return this.name},e.prototype.getData=function(){return this.data},e.prototype.H=function(){return this.I},n("Zlib.GunzipMember",e),n("Zlib.GunzipMember.prototype.getName",e.prototype.getName),n("Zlib.GunzipMember.prototype.getData",e.prototype.getData),n("Zlib.GunzipMember.prototype.getMtime",e.prototype.H);var m,_=[];for(m=0;288>m;m++)switch(!0){case 143>=m:_.push([m+48,8]);break;case 255>=m:_.push([m-144+400,9]);break;case 279>=m:_.push([m-256+0,7]);break;case 287>=m:_.push([m-280+192,8]);break;default:t("invalid literal: "+m)}var b=function(){function n(n){switch(!0){case 3===n:return[257,n-3,0];case 4===n:return[258,n-4,0];case 5===n:return[259,n-5,0];case 6===n:return[260,n-6,0];case 7===n:return[261,n-7,0];case 8===n:return[262,n-8,0];case 9===n:return[263,n-9,0];case 10===n:return[264,n-10,0];case 12>=n:return[265,n-11,1];case 14>=n:return[266,n-13,1];case 16>=n:return[267,n-15,1];case 18>=n:return[268,n-17,1];case 22>=n:return[269,n-19,2];case 26>=n:return[270,n-23,2];case 30>=n:return[271,n-27,2];case 34>=n:return[272,n-31,2];case 42>=n:return[273,n-35,3];case 50>=n:return[274,n-43,3];case 58>=n:return[275,n-51,3];case 66>=n:return[276,n-59,3];case 82>=n:return[277,n-67,4];case 98>=n:return[278,n-83,4];case 114>=n:return[279,n-99,4];case 130>=n:return[280,n-115,4];case 162>=n:return[281,n-131,5];case 194>=n:return[282,n-163,5];case 226>=n:return[283,n-195,5];case 257>=n:return[284,n-227,5];case 258===n:return[285,n-258,0];default:t("invalid length: "+n)}}var r,e,i=[];for(r=3;258>=r;r++)e=n(r),i[r]=e[2]<<24|e[1]<<16|e[0];return i}();l&&new Uint32Array(b);var w=0,k=1;o.prototype.g=function(){for(;!this.o;){var n=a(this,3);switch(1&n&&(this.o=!0),n>>>=1){case 0:var r=this.input,e=this.c,i=this.b,o=this.a,s=r.length,c=f,h=f,p=i.length,y=f;switch(this.d=this.f=0,e+1>=s&&t(Error("invalid uncompressed block header: LEN")),c=r[e++]|r[e++]<<8,e+1>=s&&t(Error("invalid uncompressed block header: NLEN")),h=r[e++]|r[e++]<<8,c===~h&&t(Error("invalid uncompressed block header: length verify")),e+c>r.length&&t(Error("input buffer is broken")),this.k){case w:for(;o+c>i.length;){if(y=p-o,c-=y,l)i.set(r.subarray(e,e+y),o),o+=y,e+=y;else for(;y--;)i[o++]=r[e++];this.a=o,i=this.e(),o=this.a}break;case k:for(;o+c>i.length;)i=this.e({t:2});break;default:t(Error("invalid inflate mode"))}if(l)i.set(r.subarray(e,e+c),o),o+=c,e+=c;else for(;c--;)i[o++]=r[e++];this.c=e,this.a=o,this.b=i;break;case 1:this.l(B,H);break;case 2:u(this);break;default:t(Error("unknown BTYPE: "+n))}}return this.q()};var A,C,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=l?new Uint16Array(j):j,S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],T=l?new Uint16Array(S):S,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],I=l?new Uint8Array(x):x,U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],D=l?new Uint16Array(U):U,R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=l?new Uint8Array(R):R,z=new(l?Uint8Array:Array)(288);for(A=0,C=z.length;C>A;++A)z[A]=143>=A?8:255>=A?9:279>=A?7:8;var N,O,B=i(z),K=new(l?Uint8Array:Array)(30);for(N=0,O=K.length;O>N;++N)K[N]=5;var H=i(K);o.prototype.l=function(t,n){var r=this.b,e=this.a;this.r=t;for(var i,o,u,c,f=r.length-258;256!==(i=s(this,t));)if(256>i)e>=f&&(this.a=e,r=this.e(),e=this.a),r[e++]=i;else for(o=i-257,c=T[o],0<I[o]&&(c+=a(this,I[o])),i=s(this,n),u=D[i],0<L[i]&&(u+=a(this,L[i])),e>=f&&(this.a=e,r=this.e(),e=this.a);c--;)r[e]=r[e++-u];for(;8<=this.d;)this.d-=8,this.c--;this.a=e},o.prototype.D=function(t,n){var r=this.b,e=this.a;this.r=t;for(var i,o,u,c,f=r.length;256!==(i=s(this,t));)if(256>i)e>=f&&(r=this.e(),f=r.length),r[e++]=i;else for(o=i-257,c=T[o],0<I[o]&&(c+=a(this,I[o])),i=s(this,n),u=D[i],0<L[i]&&(u+=a(this,L[i])),e+c>f&&(r=this.e(),f=r.length);c--;)r[e]=r[e++-u];for(;8<=this.d;)this.d-=8,this.c--;this.a=e},o.prototype.e=function(){var t,n,r=new(l?Uint8Array:Array)(this.a-32768),e=this.a-32768,i=this.b;if(l)r.set(i.subarray(32768,r.length));else for(t=0,n=r.length;n>t;++t)r[t]=i[t+32768];if(this.i.push(r),this.n+=r.length,l)i.set(i.subarray(e,e+32768));else for(t=0;32768>t;++t)i[t]=i[e+t];return this.a=32768,i},o.prototype.F=function(t){var n,r,e,i,o=this.input.length/this.c+1|0,a=this.input,s=this.b;return t&&("number"==typeof t.t&&(o=t.t),"number"==typeof t.A&&(o+=t.A)),2>o?(r=(a.length-this.c)/this.r[2],i=258*(r/2)|0,e=i<s.length?s.length+i:s.length<<1):e=s.length*o,l?(n=new Uint8Array(e),n.set(s)):n=s,this.b=n},o.prototype.q=function(){var t,n,r,e,i,o=0,a=this.b,s=this.i,u=new(l?Uint8Array:Array)(this.n+(this.a-32768));if(0===s.length)return l?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(n=0,r=s.length;r>n;++n)for(t=s[n],e=0,i=t.length;i>e;++e)u[o++]=t[e];for(n=32768,r=this.a;r>n;++n)u[o++]=a[n];return this.i=[],this.buffer=u},o.prototype.B=function(){var t,n=this.a;return l?this.z?(t=new Uint8Array(n),t.set(this.b.subarray(0,n))):t=this.b.subarray(0,n):(this.b.length>n&&(this.b.length=n),t=this.b),this.buffer=t},c.prototype.G=function(){return this.s||this.g(),this.m.slice()},c.prototype.g=function(){for(var n=this.input.length;this.c<n;){var i=new e,a=f,s=f,u=f,c=f,h=f,p=f,y=f,d=f,g=f,v=this.input,m=this.c;switch(i.u=v[m++],i.v=v[m++],(31!==i.u||139!==i.v)&&t(Error("invalid file signature:"+i.u+","+i.v)),i.p=v[m++],i.p){case 8:break;default:t(Error("unknown compression method: "+i.p))}if(i.h=v[m++],d=v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24,i.I=new Date(1e3*d),i.O=v[m++],i.N=v[m++],0<(4&i.h)&&(i.J=v[m++]|v[m++]<<8,m+=i.J),0<(8&i.h)){for(y=[],p=0;0<(h=v[m++]);)y[p++]=String.fromCharCode(h);i.name=y.join("")}if(0<(16&i.h)){for(y=[],p=0;0<(h=v[m++]);)y[p++]=String.fromCharCode(h);i.K=y.join("")}0<(2&i.h)&&(i.C=65535&r(v,0,m),i.C!==(v[m++]|v[m++]<<8)&&t(Error("invalid header crc16"))),a=v[v.length-4]|v[v.length-3]<<8|v[v.length-2]<<16|v[v.length-1]<<24,v.length-m-4-4<512*a&&(c=a),s=new o(v,{index:m,bufferSize:c}),i.data=u=s.g(),m=s.c,i.L=g=(v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24)>>>0,r(u,f,f)!==g&&t(Error("invalid CRC-32 checksum: 0x"+r(u,f,f).toString(16)+" / 0x"+g.toString(16))),i.M=a=(v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24)>>>0,(4294967295&u.length)!==a&&t(Error("invalid input size: "+(4294967295&u.length)+" / "+a)),this.m.push(i),this.c=m}this.s=!0;var _,b,w,k=this.m,A=0,C=0;for(_=0,b=k.length;b>_;++_)C+=k[_].data.length;if(l)for(w=new Uint8Array(C),_=0;b>_;++_)w.set(k[_].data,A),A+=k[_].data.length;else{for(w=[],_=0;b>_;++_)w[_]=k[_].data;w=Array.prototype.concat.apply([],w)}return w},n("Zlib.Gunzip",c),n("Zlib.Gunzip.prototype.decompress",c.prototype.g),n("Zlib.Gunzip.prototype.getMembers",c.prototype.G)}).call(this)},{}],26:[function(n,r,e){var i,o=[].indexOf||function(t){for(var n=0,r=this.length;r>n;n++)if(n in this&&this[n]===t)return n;return-1};i=i||{},i.version="1.3.7","function"==typeof t&&t.amd&&t("wanakana",[],function(){return i}),i.LOWERCASE_START=97,i.LOWERCASE_END=122,i.UPPERCASE_START=65,i.UPPERCASE_END=90,i.HIRAGANA_START=12353,i.HIRAGANA_END=12438,i.KATAKANA_START=12449,i.KATAKANA_END=12538,i.LOWERCASE_FULLWIDTH_START=65345,i.LOWERCASE_FULLWIDTH_END=65370,i.UPPERCASE_FULLWIDTH_START=65313,i.UPPERCASE_FULLWIDTH_END=65338,i.defaultOptions={useObseleteKana:!1,IMEMode:!1},i.bind=function(t){return t.addEventListener("input",i._onInput)},i.unbind=function(t){return t.removeEventListener("input",i._onInput)},i._onInput=function(t){var n,r,e,o,a,s;if(n=t.target,a=n.selectionStart,s=n.value.length,e=i._convertFullwidthCharsToASCII(n.value),r=i.toKana(e,{IMEMode:!0}),e!==r){if(n.value=r,"number"==typeof n.selectionStart)return n.selectionStart=n.selectionEnd=n.value.length;if("undefined"!=typeof n.createTextRange)return n.focus(),o=n.createTextRange(),o.collapse(!1),o.select()}},i._extend=function(t,n){var r;if(null==t)return n;for(r in n)null==t[r]&&null!=n[r]&&(t[r]=n[r]);return t},i._isCharInRange=function(t,n,r){var e;return e=t.charCodeAt(0),e>=n&&r>=e},i._isCharVowel=function(t,n){var r;return null==n&&(n=!0),r=n?/[aeiouy]/:/[aeiou]/,-1!==t.toLowerCase().charAt(0).search(r)},i._isCharConsonant=function(t,n){var r;return null==n&&(n=!0),r=n?/[bcdfghjklmnpqrstvwxyz]/:/[bcdfghjklmnpqrstvwxz]/,-1!==t.toLowerCase().charAt(0).search(r)},i._isCharKatakana=function(t){return i._isCharInRange(t,i.KATAKANA_START,i.KATAKANA_END)},i._isCharHiragana=function(t){return i._isCharInRange(t,i.HIRAGANA_START,i.HIRAGANA_END)},i._isCharKana=function(t){return i._isCharHiragana(t)||i._isCharKatakana(t)},i._isCharNotKana=function(t){return!i._isCharHiragana(t)&&!i._isCharKatakana(t)},i._convertFullwidthCharsToASCII=function(t){var n,r,e,o,a,s;for(r=t.split(""),o=a=0,s=r.length;s>a;o=++a)n=r[o],e=n.charCodeAt(0),i._isCharInRange(n,i.LOWERCASE_FULLWIDTH_START,i.LOWERCASE_FULLWIDTH_END)&&(r[o]=String.fromCharCode(e-i.LOWERCASE_FULLWIDTH_START+i.LOWERCASE_START)),i._isCharInRange(n,i.UPPERCASE_FULLWIDTH_START,i.UPPERCASE_FULLWIDTH_END)&&r[o](String.fromCharCode(e-i.UPPERCASE_FULLWIDTH_START+i.UPPERCASE_START));return r.join("")},i._katakanaToHiragana=function(t){var n,r,e,o,a,s,u;for(r=[],u=t.split(""),a=0,s=u.length;s>a;a++)o=u[a],i._isCharKatakana(o)?(n=o.charCodeAt(0),n+=i.HIRAGANA_START-i.KATAKANA_START,e=String.fromCharCode(n),r.push(e)):r.push(o);return r.join("")},i._hiraganaToKatakana=function(t){var n,r,e,o,a,s,u;for(e=[],u=t.split(""),a=0,s=u.length;s>a;a++)r=u[a],i._isCharHiragana(r)?(n=r.charCodeAt(0),n+=i.KATAKANA_START-i.HIRAGANA_START,o=String.fromCharCode(n),e.push(o)):e.push(r);return e.join("")},i._hiraganaToRomaji=function(t,n){var r,e,o,a,s,u,c,f,h,l;for(n=i._extend(n,i.defaultOptions),s=t.length,h=[],o=0,e=0,u=2,a=function(){return t.substr(o,e)},f=function(){return e=Math.min(u,s-o)};s>o;){for(f();e>0;){if(r=a(),i.isKatakana(r)&&(r=i._katakanaToHiragana(r)),"っ"===r.charAt(0)&&1===e&&s-1>o){c=!0,l="";break}if(l=i.J_to_R[r],null!=l&&c&&(l=l.charAt(0).concat(l),c=!1),null!=l)break;e--}null==l&&(l=r),h.push(l),o+=e||1}return h.join("")},i._romajiToHiragana=function(t,n){return i._romajiToKana(t,n,!0)},i._romajiToKana=function(t,n,r){var e,a,s,u,c,f,h,l,p,y;for(null==r&&(r=!1),n=i._extend(n,i.defaultOptions),p=t.length,h=[],u=0,y=3,c=function(){return t.substr(u,s)},f=function(t){return i._isCharInRange(t,i.UPPERCASE_START,i.UPPERCASE_END)};p>u;){for(s=Math.min(y,p-u);s>0;){if(e=c(),a=e.toLowerCase(),o.call(i.FOUR_CHARACTER_EDGE_CASES,a)>=0&&p-u>=4)s++,e=c(),a=e.toLowerCase();else{if("n"===a.charAt(0)){if(n.IMEMode&&"'"===a.charAt(1)&&2===s){l="ん";break}i._isCharConsonant(a.charAt(1),!1)&&i._isCharVowel(a.charAt(2))&&(s=1,e=c(),a=e.toLowerCase())}"n"!==a.charAt(0)&&i._isCharConsonant(a.charAt(0))&&e.charAt(0)===e.charAt(1)&&(s=1,a=e=i._isCharInRange(e.charAt(0),i.UPPERCASE_START,i.UPPERCASE_END)?"ッ":"っ")}if(l=i.R_to_J[a],null!=l)break;4===s?s-=2:s--}null==l&&(e=i._convertPunctuation(e),l=e),(null!=n?n.useObseleteKana:void 0)&&("wi"===a&&(l="ゐ"),"we"===a&&(l="ゑ")),n.IMEMode&&"n"===a.charAt(0)&&("y"===t.charAt(u+1).toLowerCase()&&i._isCharVowel(t.charAt(u+2))===!1||u===p-1||i.isKana(t.charAt(u+1)))&&(l=e.charAt(0)),r||f(e.charAt(0))&&(l=i._hiraganaToKatakana(l)),h.push(l),u+=s||1}return h.join("")},i._convertPunctuation=function(t,n){return"　"===t?" ":"-"===t?"ー":t},i.isHiragana=function(t){var n;return n=t.split(""),n.every(i._isCharHiragana)},i.isKatakana=function(t){var n;return n=t.split(""),n.every(i._isCharKatakana)},i.isKana=function(t){var n;return n=t.split(""),n.every(function(t){return i.isHiragana(t)||i.isKatakana(t)})},i.isRomaji=function(t){var n;return n=t.split(""),n.every(function(t){return!i.isHiragana(t)&&!i.isKatakana(t)})},i.toHiragana=function(t,n){return i.isRomaji(t)?t=i._romajiToHiragana(t,n):i.isKatakana(t)?t=i._katakanaToHiragana(t,n):t},i.toKatakana=function(t,n){return i.isHiragana(t)?t=i._hiraganaToKatakana(t,n):i.isRomaji(t)?(t=i._romajiToHiragana(t,n),t=i._hiraganaToKatakana(t,n)):t},i.toKana=function(t,n){return t=i._romajiToKana(t,n)},i.toRomaji=function(t,n){return t=i._hiraganaToRomaji(t)},i.R_to_J={a:"あ",i:"い",u:"う",e:"え",o:"お",yi:"い",wu:"う",whu:"う",xa:"ぁ",xi:"ぃ",xu:"ぅ",xe:"ぇ",xo:"ぉ",xyi:"ぃ",xye:"ぇ",ye:"いぇ",wha:"うぁ",whi:"うぃ",whe:"うぇ",who:"うぉ",wi:"うぃ",we:"うぇ",va:"ゔぁ",vi:"ゔぃ",vu:"ゔ",ve:"ゔぇ",vo:"ゔぉ",vya:"ゔゃ",vyi:"ゔぃ",vyu:"ゔゅ",vye:"ゔぇ",vyo:"ゔょ",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",lka:"ヵ",lke:"ヶ",xka:"ヵ",xke:"ヶ",kya:"きゃ",kyi:"きぃ",kyu:"きゅ",kye:"きぇ",kyo:"きょ",ca:"か",ci:"き",cu:"く",ce:"け",co:"こ",lca:"ヵ",lce:"ヶ",xca:"ヵ",xce:"ヶ",qya:"くゃ",qyu:"くゅ",qyo:"くょ",qwa:"くぁ",qwi:"くぃ",qwu:"くぅ",qwe:"くぇ",qwo:"くぉ",qa:"くぁ",qi:"くぃ",qe:"くぇ",qo:"くぉ",kwa:"くぁ",qyi:"くぃ",qye:"くぇ",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",gya:"ぎゃ",gyi:"ぎぃ",gyu:"ぎゅ",gye:"ぎぇ",gyo:"ぎょ",gwa:"ぐぁ",gwi:"ぐぃ",gwu:"ぐぅ",gwe:"ぐぇ",gwo:"ぐぉ",sa:"さ",si:"し",shi:"し",su:"す",se:"せ",so:"そ",za:"ざ",zi:"じ",zu:"ず",ze:"ぜ",zo:"ぞ",ji:"じ",sya:"しゃ",syi:"しぃ",syu:"しゅ",sye:"しぇ",syo:"しょ",sha:"しゃ",shu:"しゅ",she:"しぇ",sho:"しょ",shya:"しゃ",shyu:"しゅ",shye:"しぇ",shyo:"しょ",swa:"すぁ",swi:"すぃ",swu:"すぅ",swe:"すぇ",swo:"すぉ",zya:"じゃ",zyi:"じぃ",zyu:"じゅ",zye:"じぇ",zyo:"じょ",ja:"じゃ",ju:"じゅ",je:"じぇ",jo:"じょ",jya:"じゃ",jyi:"じぃ",jyu:"じゅ",jye:"じぇ",jyo:"じょ",ta:"た",ti:"ち",tu:"つ",te:"て",to:"と",chi:"ち",tsu:"つ",ltu:"っ",xtu:"っ",tya:"ちゃ",tyi:"ちぃ",tyu:"ちゅ",tye:"ちぇ",tyo:"ちょ",cha:"ちゃ",chu:"ちゅ",che:"ちぇ",cho:"ちょ",cya:"ちゃ",cyi:"ちぃ",cyu:"ちゅ",cye:"ちぇ",cyo:"ちょ",chya:"ちゃ",chyu:"ちゅ",chye:"ちぇ",chyo:"ちょ",tsa:"つぁ",tsi:"つぃ",tse:"つぇ",tso:"つぉ",tha:"てゃ",thi:"てぃ",thu:"てゅ",the:"てぇ",tho:"てょ",twa:"とぁ",twi:"とぃ",twu:"とぅ",twe:"とぇ",two:"とぉ",da:"だ",di:"ぢ",du:"づ",de:"で","do":"ど",dya:"ぢゃ",dyi:"ぢぃ",dyu:"ぢゅ",dye:"ぢぇ",dyo:"ぢょ",dha:"でゃ",dhi:"でぃ",dhu:"でゅ",dhe:"でぇ",dho:"でょ",dwa:"どぁ",dwi:"どぃ",dwu:"どぅ",dwe:"どぇ",dwo:"どぉ",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",nya:"にゃ",nyi:"にぃ",nyu:"にゅ",nye:"にぇ",nyo:"にょ",ha:"は",hi:"ひ",hu:"ふ",he:"へ",ho:"ほ",fu:"ふ",hya:"ひゃ",hyi:"ひぃ",hyu:"ひゅ",hye:"ひぇ",hyo:"ひょ",fya:"ふゃ",fyu:"ふゅ",fyo:"ふょ",fwa:"ふぁ",fwi:"ふぃ",fwu:"ふぅ",fwe:"ふぇ",fwo:"ふぉ",fa:"ふぁ",fi:"ふぃ",fe:"ふぇ",fo:"ふぉ",fyi:"ふぃ",fye:"ふぇ",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",bya:"びゃ",byi:"びぃ",byu:"びゅ",bye:"びぇ",byo:"びょ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ",pya:"ぴゃ",pyi:"ぴぃ",pyu:"ぴゅ",pye:"ぴぇ",pyo:"ぴょ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",mya:"みゃ",myi:"みぃ",myu:"みゅ",mye:"みぇ",myo:"みょ",ya:"や",yu:"ゆ",yo:"よ",xya:"ゃ",xyu:"ゅ",xyo:"ょ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",rya:"りゃ",ryi:"りぃ",ryu:"りゅ",rye:"りぇ",ryo:"りょ",la:"ら",li:"り",lu:"る",le:"れ",lo:"ろ",lya:"りゃ",lyi:"りぃ",lyu:"りゅ",lye:"りぇ",lyo:"りょ",wa:"わ",wo:"を",lwe:"ゎ",xwa:"ゎ",n:"ん",nn:"ん","n ":"ん",xn:"ん",ltsu:"っ"},i.FOUR_CHARACTER_EDGE_CASES=["lts","chy","shy"],i.J_to_R={"あ":"a","い":"i","う":"u","え":"e",
"お":"o","ゔぁ":"va","ゔぃ":"vi","ゔ":"vu","ゔぇ":"ve","ゔぉ":"vo","か":"ka","き":"ki","きゃ":"kya","きぃ":"kyi","きゅ":"kyu","く":"ku","け":"ke","こ":"ko","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ぎゃ":"gya","ぎぃ":"gyi","ぎゅ":"gyu","ぎぇ":"gye","ぎょ":"gyo","さ":"sa","す":"su","せ":"se","そ":"so","ざ":"za","ず":"zu","ぜ":"ze","ぞ":"zo","し":"shi","しゃ":"sha","しゅ":"shu","しょ":"sho","じ":"ji","じゃ":"ja","じゅ":"ju","じょ":"jo","た":"ta","ち":"chi","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","つ":"tsu","て":"te","と":"to","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","な":"na","に":"ni","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ぬ":"nu","ね":"ne","の":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","みゃ":"mya","みゅ":"myu","みょ":"myo","や":"ya","ゆ":"yu","よ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","りゃ":"rya","りゅ":"ryu","りょ":"ryo","わ":"wa","を":"wo","ん":"n","ゐ":"wi","ゑ":"we","きぇ":"kye","きょ":"kyo","じぃ":"jyi","じぇ":"jye","ちぃ":"cyi","ちぇ":"che","ひぃ":"hyi","ひぇ":"hye","びぃ":"byi","びぇ":"bye","ぴぃ":"pyi","ぴぇ":"pye","みぇ":"mye","みぃ":"myi","りぃ":"ryi","りぇ":"rye","にぃ":"nyi","にぇ":"nye","しぃ":"syi","しぇ":"she","いぇ":"ye","うぁ":"wha","うぉ":"who","うぃ":"wi","うぇ":"we","ゔゃ":"vya","ゔゅ":"vyu","ゔょ":"vyo","すぁ":"swa","すぃ":"swi","すぅ":"swu","すぇ":"swe","すぉ":"swo","くゃ":"qya","くゅ":"qyu","くょ":"qyo","くぁ":"qwa","くぃ":"qwi","くぅ":"qwu","くぇ":"qwe","くぉ":"qwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぅ":"gwu","ぐぇ":"gwe","ぐぉ":"gwo","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てゃ":"tha","てぃ":"thi","てゅ":"thu","てぇ":"the","てょ":"tho","とぁ":"twa","とぃ":"twi","とぅ":"twu","とぇ":"twe","とぉ":"two","ぢゃ":"dya","ぢぃ":"dyi","ぢゅ":"dyu","ぢぇ":"dye","ぢょ":"dyo","でゃ":"dha","でぃ":"dhi","でゅ":"dhu","でぇ":"dhe","でょ":"dho","どぁ":"dwa","どぃ":"dwi","どぅ":"dwu","どぇ":"dwe","どぉ":"dwo","ふぅ":"fwu","ふゃ":"fya","ふゅ":"fyu","ふょ":"fyo","ぁ":"a","ぃ":"i","ぇ":"e","ぅ":"u","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","っ":"","ゕ":"ka","ゖ":"ka","ゎ":"wa","　":" ","んあ":"n'a","んい":"n'i","んう":"n'u","んえ":"n'e","んお":"n'o","んや":"n'ya","んゆ":"n'yu","んよ":"n'yo"},r.exports=i},{}],27:[function(t,n,r){"use strict";var e=t("kuromoji"),i=t("wanakana"),o=null,a=!1,s="undefined"!=typeof window;!s&&"undefined"!=typeof n&&n.exports&&(a=!0);var u=function(t){return t=t[0],t>="一"&&"鿏">=t||t>="豈"&&"﫿">=t||t>="㐀"&&"䶿">=t},c=function(t){for(var n=0;n<t.length;n++)if(i.isHiragana(t[n]))return!0;return!1},f=function(t){for(var n=0;n<t.length;n++)if(i.isKatakana(t[n]))return!0;return!1},h=function(t){for(var n=0;n<t.length;n++)if(u(t[n]))return!0;return!1},l=function(t){for(var n=!1,r=!1,e=0;e<t.length;e++)u(t[e])?n=!0:(i.isHiragana(t[e])||i.isKatakana(t[e]))&&(r=!0);return n&&r?1:n?0:r?2:3},p=function(t,n,r){r=r||"";for(var e="",i=0;i<t.length;i++)e+=i!==t.length-1?t[i][n]+""+r:t[i][n];return e},y=function(t,n){n=n||{},n.to=n.to||"hiragana",n.mode=n.mode||"normal",n.delimiter_start=n.delimiter_start||"(",n.delimiter_end=n.delimiter_end||")",t=t||"";for(var r=o.tokenize(t),e=0;e<r.length;e++)r[e].reading||(r[e].reading=r[e].surface_form);if("normal"===n.mode||"spaced"===n.mode)switch(n.to){case"katakana":return"normal"===n.mode?p(r,"reading"):p(r,"reading"," ");case"romaji":return"normal"===n.mode?i.toRomaji(p(r,"reading")):i.toRomaji(p(r,"reading"," "));case"hiragana":for(var a=0;a<r.length;a++)!f(r[a].surface_form)&&h(r[a].surface_form)?r[a].reading=i.toHiragana(r[a].reading):r[a].reading=r[a].surface_form;return"normal"===n.mode?p(r,"reading"):p(r,"reading"," ")}else{if("okurigana"!==n.mode&&"furigana"!==n.mode)throw new Error("No such mode...");for(var s=[],c=0;c<r.length;c++){r[c].reading=i.toHiragana(r[c].reading);var y=l(r[c].surface_form);switch(y){case 0:s.push([r[c].surface_form,1,r[c].reading]);break;case 1:for(var d="",g=0;g<r[c].surface_form.length;g++)d+=u(r[c].surface_form[g])?"(.*)":r[c].surface_form[g];for(var v=new RegExp(d),m=v.exec(r[c].reading),_=0,b=0;b<r[c].surface_form.length;b++)u(r[c].surface_form[b])?(s.push([r[c].surface_form[b],1,m[_+1]]),_++):s.push([r[c].surface_form[b],2,i.toHiragana(r[c].surface_form[b])]);break;case 2:for(var w=0;w<r[c].surface_form.length;w++)s.push([r[c].surface_form[w],2,r[c].reading[w]]);break;case 3:for(var k=0;k<r[c].surface_form.length;k++)s.push([r[c].surface_form[k],3,r[c].surface_form[k]])}}var A="";switch(n.to){case"katakana":if("okurigana"===n.mode)for(var C=0;C<s.length;C++)A+=1!==s[C][1]?s[C][0]:s[C][0]+n.delimiter_start+i.toKatakana(s[C][2])+n.delimiter_end;else for(var j=0;j<s.length;j++)A+=1!==s[j][1]?s[j][0]:"<ruby>"+s[j][0]+"<rp>"+n.delimiter_start+"</rp><rt>"+i.toKatakana(s[j][2])+"</rt><rp>"+n.delimiter_end+"</rp></ruby>";return A;case"romaji":if("okurigana"===n.mode)for(var E=0;E<s.length;E++)A+=1!==s[E][1]?s[E][0]:s[E][0]+n.delimiter_start+i.toRomaji(s[E][2])+n.delimiter_end;else{A+="<ruby>";for(var S=0;S<s.length;S++)A+=s[S][0]+"<rp>"+n.delimiter_start+"</rp><rt>"+i.toRomaji(s[S][2])+"</rt><rp>"+n.delimiter_end+"</rp>";A+="</ruby>"}return A;case"hiragana":if("okurigana"===n.mode)for(var T=0;T<s.length;T++)A+=1!==s[T][1]?s[T][0]:s[T][0]+n.delimiter_start+s[T][2]+n.delimiter_end;else for(var x=0;x<s.length;x++)A+=1!==s[x][1]?s[x][0]:"<ruby>"+s[x][0]+"<rp>"+n.delimiter_start+"</rp><rt>"+s[x][2]+"</rt><rp>"+n.delimiter_end+"</rp></ruby>";return A}}},d=function(t,n){return n=n||{},n.to="hiragana",y(t,n)},g=function(t,n){return n=n||{},n.to="katakana",y(t,n)},v=function(t,n){return n=n||{},n.to="romaji",y(t,n)},m=function(n,r){"function"==typeof n?(r=n,n={}):n=n||{};var i=n.dicPath;i||(i=a?t.resolve("kuromoji").replace(/dist.*/,"dist/dict/"):"bower_components/kuroshiro/dist/dict/"),e.builder({dicPath:i}).build(function(t,n){return t?r(t):(o=n,_.tokenize=o.tokenize,void r())})},_={init:m,isHiragana:i.isHiragana,isKatakana:i.isKatakana,isRomaji:i.isRomaji,isKanji:u,hasHiragana:c,hasKatakana:f,hasKanji:h,convert:y,toHiragana:d,toKatakana:g,toRomaji:v,toKana:i.toKana};n.exports=_},{kuromoji:12,wanakana:26}]},{},[27])(27)});